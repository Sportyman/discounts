<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <!-- ×× ×¡×” ×œ×× ×•×¢ ×–×•× ××•×˜×•××˜×™ ×‘×¡×œ×•×œ×¨, ×× ×ª×¨×¦×” ×œ××¤×©×¨ ×–×•× ×™×“× ×™ - ×”×¡×¨ ××ª user-scalable=no -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>××—×©×‘×•×Ÿ ×”× ×—×•×ª ×—×“×©</title>
  <style>
    /* ××™×¤×•×¡ ×•×¡×’× ×•×Ÿ ×‘×¡×™×¡×™ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      direction: rtl;
      overflow-x: hidden; /* ×× ×™×¢×ª ×’×œ×™×œ×” ××•×¤×§×™×ª ×× ×™×© ×—×¨×™×’×” ×§×˜× ×” */
      margin: 0; /* ××™×Ÿ ×©×•×œ×™×™× ×›×œ×œ ×œ×¢××•×“ */
      padding: 0;
    }

    /* ××™×›×œ ×¨××©×™ (×ª×•×¤×¡ ××ª ×›×œ ×”×’×•×‘×”) */
    .main-container {
      width: 100%;
      max-width: 500px;
      margin: 0 auto;         /* ××¨×›×– ×¨×§ ××•×¤×§×™×ª */
      min-height: 100vh;      /* ×’×•×‘×” ××¡×š ××œ× */
      background-color: #fff;
      display: flex;
      flex-direction: column; /* ×××¤×©×¨ ×¡×™×“×•×¨ ×× ×›×™ */
      padding: 10px;          /* ×¨×•×•×— ×¤× ×™××™ */
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      text-align: center;
    }

    h1 {
      font-size: 1.3rem;
      margin-bottom: 5px;
    }

    /* ×›×¤×ª×•×¨×™ ×”×”× ×—×” ×”×§×‘×•×¢×” ×‘×©×•×¨×” ××—×ª ×œ×œ× ×’×œ×™×œ×” */
    .fixed-discounts {
      display: flex;
      flex-wrap: nowrap;       /* ××™×Ÿ ××¢×‘×¨ ×©×•×¨×” */
      justify-content: space-between; /* ××¨×•×•×—×™× ×‘×™×Ÿ ×›×•×œ× */
      gap: 5px;                /* ×¨×•×•×— ×§×˜×Ÿ ×‘×™×Ÿ ×”×›×¤×ª×•×¨×™× */
      margin: 5px 0;
    }
    .fixed-discounts button {
      flex: 1;                 /* ×›×œ ×›×¤×ª×•×¨ ××§×‘×œ ×—×œ×§ ×©×•×•×” ××”×¨×•×—×‘ */
      min-width: 0;            /* ×××¤×©×¨ ×¦××¦×•× ×›×›×œ ×©× ×“×¨×© */
      font-size: 0.8rem;       /* ×¤×•× ×˜ ×§×¦×ª ×§×˜×Ÿ ×™×•×ª×¨ */
      padding: 8px 0;          /* ×’×•×‘×” ×¤× ×™××™ */
      border: none;
      border-radius: 5px;
      background-color: #007aff;
      color: #fff;
      cursor: pointer;
    }

    /* ×©×“×” ×•×”×•×¡×¤×ª ××—×•×– ×”× ×—×” - ×§×•×“× ×›×¤×ª×•×¨ ×•××– ×”×©×“×” */
    .discounts-manual {
      display: flex;
      gap: 5px;
      margin-bottom: 10px;
      justify-content: center;
    }
    /* ×”×›×¤×ª×•×¨ ×¦×¨ ×™×•×ª×¨ */
    .discounts-manual button {
      flex: 0 0 30%;  /* ×›~30% ××”×¨×•×—×‘ */
      padding: 8px;
      border: none;
      border-radius: 5px;
      background-color: #007aff;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
    }
    .discounts-manual input {
      flex: 1;        /* ×”×©×“×” ×ª×•×¤×¡ ××ª ×©××¨ ×”××§×•× */
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      text-align: center;
      font-size: 1rem;
    }

    /* ×”× ×—×•×ª ×©× ×‘×—×¨×• */
    .discounts {
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-start;
      gap: 10px;
      margin-bottom: 10px;
    }
    .discount-block {
      background-color: lightblue;
      padding: 10px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      cursor: pointer;
      position: relative;
      width: calc(20% - 10px); /* 5 ×›×¤×ª×•×¨×™× ×‘×©×•×¨×” ×× ×™×”×™×• ×”×¨×‘×” */
      justify-content: center;
    }
    .discount-block.inactive {
      background-color: lightgray;
    }
    .discount-number {
      position: absolute;
      top: 2px;
      left: 5px;
      font-size: 0.75rem;
      font-weight: bold;
      color: black;
    }
    .remove-discount {
      background: red;
      color: white;
      border: none;
      padding: 3px 5px;
      margin-left: 5px;
      cursor: pointer;
      border-radius: 50%;
      font-size: 0.75rem;
    }

    /* ×ª×™×‘×ª ××—×™×¨ */
    .price-input {
      margin-bottom: 10px;
    }
    .price-input input {
      width: 100%;
      padding: 10px;
      font-size: 1.1rem;
      text-align: center;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    /* ×”×¦×’×ª ××—×™×¨ ×¡×•×¤×™ */
    .final-price {
      font-size: 1.8rem;
      font-weight: bold;
      margin: 10px 0;
      color: #333;
    }
    .final-price span {
      color: #007aff;
    }

    /* ××™×¤×•×¡ ××—×™×¨ */
    .reset-button {
      background-color: #ff3b30;
      color: white;
      border: none;
      padding: 10px;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 10px;
      width: 100%;
    }

    /* ××§×œ×“×ª ××¡×¤×¨×™×ª */
    .keyboard {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-gap: 5px;
      width: 100%;
      margin-bottom: 10px;
    }
    .keyboard button {
      padding: 15px;
      font-size: 1.2rem;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #fff;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    /* ×›×¤×ª×•×¨ shortcut */
    .shortcut-button {
      width: 100%;
      background-color: #007aff;
      color: white;
      padding: 15px;
      font-size: 1rem;
      border-radius: 5px;
      text-align: center;
      margin-bottom: 10px;
      cursor: pointer;
      border: none;
    }

    /* ×§×•×¤×•×Ÿ */
    .coupon-button {
      width: 100%;
      background-color: #ff8c42;
      color: white;
      padding: 15px;
      font-size: 1rem;
      border-radius: 5px;
      text-align: center;
      margin-bottom: 10px;
      cursor: pointer;
      text-decoration: none;
      display: block;
    }

    /* ××•×“××œ ×”×•×¨××•×ª */
    .instructions-modal {
      display: none;
      position: fixed;
      top: 0; right: 0; bottom: 0; left: 0;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .instructions-modal.active {
      display: flex;
    }
    .instructions-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      max-width: 300px;
    }
    .instructions-content h3 {
      margin-bottom: 10px;
    }
    .instructions-content ol {
      text-align: right;
    }
    .instructions-content button {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 1rem;
      cursor: pointer;
    }

    /* ×”×ª×××•×ª ×œ××¡×›×™× ×§×˜× ×™× ×××•×“ */
    @media (max-width: 480px) {
      .fixed-discounts button {
        font-size: 0.7rem;
        padding: 6px 0;
      }
      .discount-block {
        width: calc(25% - 10px);
      }
      .final-price {
        font-size: 1.5rem;
      }
      .keyboard button {
        padding: 10px;
        font-size: 1rem;
      }
      .shortcut-button, .reset-button, .coupon-button {
        padding: 10px;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>

  <div class="main-container">
    <h1>××—×©×‘×•×Ÿ ×”× ×—×•×ª</h1>

    <!-- ×›×¤×ª×•×¨×™ ×”× ×—×•×ª ×§×‘×•×¢×™× ×‘×©×•×¨×” ××—×ª -->
    <div class="fixed-discounts">
      <button onclick="addFixedDiscount(10)">10%</button>
      <button onclick="addFixedDiscount(20)">20%</button>
      <button onclick="addFixedDiscount(30)">30%</button>
      <button onclick="addFixedDiscount(40)">40%</button>
      <button onclick="addFixedDiscount(50)">50%</button>
      <button onclick="addFixedDiscount(60)">60%</button>
      <button onclick="addFixedDiscount(70)">70%</button>
      <button onclick="addFixedDiscount(80)">80%</button>
    </div>

    <!-- ×›×¤×ª×•×¨ ×”×•×¡×¤×” ×•××– ×©×“×” ××—×•×– ×”×”× ×—×” -->
    <div class="discounts-manual">
      <button onclick="addDiscount()">×”×•×¡×¤×”</button>
      <input type="number" id="discount" placeholder="××—×•×– ×”× ×—×”" min="0" max="100" onkeypress="handleKeyPress(event)">
    </div>

    <!-- ×”× ×—×•×ª ×©× ×‘×—×¨×• -->
    <div id="discountContainer" class="discounts"></div>

    <!-- ×ª×™×‘×ª ××—×™×¨ -->
    <div class="price-input">
      <input type="number" id="price" placeholder="×”×–×™× ×• ××—×™×¨" oninput="updateDiscounts()">
    </div>

    <!-- ××—×™×¨ ×¡×•×¤×™ -->
    <div class="final-price">
      ××—×™×¨ ×¡×•×¤×™: <span id="finalPrice">0 â‚ª</span>
    </div>

    <!-- ××™×¤×•×¡ ××—×™×¨ -->
    <button class="reset-button" onclick="resetPrice()">××™×¤×•×¡ ××—×™×¨</button>

    <!-- ××§×œ×“×ª ××¡×¤×¨×™×ª -->
    <div class="keyboard">
      <button onclick="addToPrice('1')">1</button>
      <button onclick="addToPrice('2')">2</button>
      <button onclick="addToPrice('3')">3</button>
      <button onclick="addToPrice('4')">4</button>
      <button onclick="addToPrice('5')">5</button>
      <button onclick="addToPrice('6')">6</button>
      <button onclick="addToPrice('7')">7</button>
      <button onclick="addToPrice('8')">8</button>
      <button onclick="addToPrice('9')">9</button>
      <button onclick="deleteLastDigit()">âŒ«</button>
      <button onclick="addToPrice('0')">0</button>
      <button onclick="addToPrice('.')">.</button>
    </div>

    <!-- ×§×™×¦×•×¨ ×“×¨×š -->
    <button class="shortcut-button" onclick="showInstructions()">ğŸ“² ×”×•×¡×¤×ª ×§×™×¦×•×¨ ×“×¨×š</button>

    <!-- ×§×•×¤×•×Ÿ -->
    <a href="https://s.click.aliexpress.com/e/_oEcAHoN" class="coupon-button" target="_blank">×§×•×¤×•× ×™× ×‘××œ×™××§×¡×¤×¨×¡</a>
  </div>

  <!-- ××•×“××œ ×”×•×¡×¤×ª ×§×™×¦×•×¨ -->
  <div id="instructionsModal" class="instructions-modal">
    <div class="instructions-content">
      <h3>×”×•×¡×¤×ª ×§×™×¦×•×¨ ×“×¨×š ×œ××¡×š ×”×‘×™×ª</h3>
      <ol>
        <li>×œ×—×¦×• ×¢×œ ×¡××œ ×”×ª×¤×¨×™×˜ (â‹®) ××• "×©×ª×£".</li>
        <li>×‘×—×¨×• "×”×•×¡×¤×” ×œ××¡×š ×”×‘×™×ª".</li>
        <li>×‘×—×¨×• ×©× ×¨×¦×•×™ ×•××©×¨×•.</li>
      </ol>
      <button onclick="closeInstructions()">×¡×’×™×¨×”</button>
    </div>
  </div>

  <script>
    let discounts = [];

    // ×”×•×¡×¤×ª ×”× ×—×” ×§×‘×•×¢×”
    function addFixedDiscount(discountValue) {
      const discountContainer = document.getElementById('discountContainer');
      const discountBlock = document.createElement('div');
      discountBlock.classList.add('discount-block');
      discountBlock.innerText = discountValue + '%';

      const discountNumber = document.createElement('span');
      discountNumber.classList.add('discount-number');
      discountNumber.innerText = (discountContainer.children.length + 1);
      discountBlock.appendChild(discountNumber);

      const removeButton = document.createElement('button');
      removeButton.innerText = 'X';
      removeButton.classList.add('remove-discount');
      removeButton.onclick = () => {
        discountContainer.removeChild(discountBlock);
        discounts = discounts.filter(d => d !== discountValue);
        updateDiscounts();
      };

      discountBlock.onclick = (event) => {
        if (event.target !== removeButton) {
          discountBlock.classList.toggle('inactive');
          updateDiscounts();
        }
      };

      discountBlock.appendChild(removeButton);
      discountContainer.appendChild(discountBlock);
      discounts.push(discountValue);
      updateDiscounts();
    }

    // ×”×•×¡×¤×ª ×”× ×—×” ×™×“× ×™×ª (×›×¤×ª×•×¨ "×”×•×¡×¤×”")
    function addDiscount() {
      const discountInput = document.getElementById('discount');
      const discountValue = parseFloat(discountInput.value);

      if (!isNaN(discountValue) && discountValue >= 0 && discountValue <= 100) {
        addFixedDiscount(discountValue);
        discountInput.value = '';
      } else {
        alert('×× × ×”×–×Ÿ ×¢×¨×š ×”× ×—×” ×‘×™×Ÿ 0 ×œ-100.');
      }
    }

    // ×¢×“×›×•×Ÿ ×”××—×™×¨ ×”×¡×•×¤×™
    function updateDiscounts() {
      let price = parseFloat(document.getElementById('price').value) || 0;
      let finalPrice = price;

      document.querySelectorAll('.discount-block').forEach(block => {
        if (!block.classList.contains('inactive')) {
          const discountVal = parseFloat(block.innerText.replace('%', ''));
          finalPrice *= (1 - discountVal / 100);
        }
      });

      document.getElementById('finalPrice').innerText = finalPrice.toFixed(2) + ' â‚ª';
    }

    // ×”×•×¡×¤×ª ×¡×¤×¨×” ×œ××—×™×¨ (××§×œ×“×ª ××¡×¤×¨×™×)
    function addToPrice(value) {
      const priceInput = document.getElementById('price');
      priceInput.value += value;
      updateDiscounts();
    }

    // ××—×™×§×ª ×¡×¤×¨×” ××—×¨×•× ×”
    function deleteLastDigit() {
      const priceInput = document.getElementById('price');
      priceInput.value = priceInput.value.slice(0, -1);
      updateDiscounts();
    }

    // ××™×¤×•×¡ ××—×™×¨
    function resetPrice() {
      document.getElementById('price').value = '';
      updateDiscounts();
    }

    // ×¤×ª×™×—×ª ××•×“××œ ×§×™×¦×•×¨ ×“×¨×š
    function showInstructions() {
      document.getElementById('instructionsModal').classList.add('active');
    }

    // ×¡×’×™×¨×ª ××•×“××œ
    function closeInstructions() {
      document.getElementById('instructionsModal').classList.remove('active');
    }

    // ENTER ×‘×©×“×” ××—×•×– ×”× ×—×”
    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        addDiscount();
      }
    }
  </script>
</body>
</html>
